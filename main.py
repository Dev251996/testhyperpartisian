import pandas as pd
from MLHyperpartisanDetector import hyperpartisanDetector

def main():
    
    # Initialize the HyperpartisanDetector
    hyperpartisan_detector = hyperpartisanDetector()
    
    # Train the detector using the dataset
    hyperpartisan_detector.train()

    # Test the detector
    hyperpartisan_detector.test()

    # Example prediction
    input_text = "*Correction appended.Just one short year ago, Texas drilling country rumbled with activity and high expectations that the good times would last a long while.So much for that.&#160;Amid a plunge in oil prices, the bonanza has paused at the very least, wiping out thousands of jobs in the oilfields and communities dependent on them.Become oneThe Texas Tribune thanks its sponsors. near $40lost nearly 340,000 jobsA barrel of West Texas crude is selling&#160; Though anything can happen in the volatile world of oil trading, all signs point to a downturn that will be longer than many expected â€“ including state revenue estimators.walloped oil-dependent communitiesBut state officials arenâ€™t sweating. The phenomenon has undoubtedly Glenn Hegarâ€œThe comptroller does not want to diminish the impact that this has had on peopleâ€™s communities and peopleâ€™s lives,â€ said Chris Bryan, a spokesman for Comptroller But statewide?&#160;â€œYouâ€™re still seeing job growth, youâ€™re still seeing revenue growth in sales tax, youâ€™re still seeing people moving here,â€ he said. â€œAnd I think that is part of that story of Texas being not just an oil and gas state anymore.â€Become oneThe Texas Tribune thanks its sponsors. Growth, but slowerThe stats back up&#160;the comptroller.&#160;The state economy is growing, though more slowly than it did amid the drilling boom.added more in each month sinceIn March, the state lost 25,400 jobs, ending a remarkable streak of 53 months of growth, according to state and federal data. Yet Texas turned around and added 33,200 jobs in May, and ending a 62-month growth streakit edged outLast June, the state collected less sales tax revenue than it did in June of 2014, Oil and mineral-related revenue makes up 10 percent of the stateâ€™s total tax collections but less than five percent of the Texas budget, according to state records.â€œThe revenue estimate is the sum of various parts, and what weâ€™re seeing with oil and gas is, itâ€™s not doing real well, but the other parts are doing very well,â€ said Dale Craymer, president of the business-backed Texas Taxpayers and Research Association and a former revenue estimator in the comptrollerâ€™s office.Wrong guesses on oil revenue â€“ sort ofBut in January, Hegarâ€™s revenue estimate pegged taxable oil prices at between $65 and $75 per barrel through 2017. Thatâ€™s far above where they are now, and far above where experts now expect them to linger, as supply stays high here and abroad and a mix of geopolitical factors â€“ including a diplomatic breakthrough that could unlock Iranâ€™s supply â€“ threaten to keep it that way.Become oneThe Texas Tribune thanks its sponsors. predictsLast week, the federal Energy Information Administration lowered its price forecasts for the coming years. The agency now almost always wrong(Texas comptrollers are Does that portend budget trouble in Texas? &#160;Not necessarily, the comptroller and other experts say. So far, oil tax revenue has come in around where Hegar predicted, largely because Texas operators are pumping more oil than expected.Wells drilled today produce far more oil than the conventionally drilled wells of years past (though the output of those wells trails off more rapidly). Operators now drill multiple wells on one site, and the rigs themselves are&#160;more efficient. Plummeting prices have only further driven operators to find new ways to eke out a profit margin.Texas oil production was still rising through May, according to the most recent figures published by the state Railroad Commission, which regulates oil and gas.â€œToday, weâ€™re producing three times the oil we did 20 years ago,â€ Craymer said.&#160; â€œWeâ€™ve got low prices on a much higher production base than weâ€™ve had historically, so that might give us a cushion as well.â€Still, experts forecast even more layoffs and declining investment in the coming months â€” resulting in lower production â€” as contracts that were signed before the prices tanked expire.That means less spending on equipment and other goods in the oil patch, taking a bite out of state sales taxes.â€œWe have had a very healthy economy and thatâ€™s help delay the impact of falling oil prices, but I think weâ€™re still going to see even slower growth ahead than what we are currently experiencing,â€ said Craymer.Next stepsWith that in mind, the comptroller's office is still keeping a close eye on oil prices, and has an opportunity to revise its forecasts in the coming months as it certifies its revenue estimate â€“ a process that takes into account the legislatureâ€™s most recent actions.&#160;â€œThis is an opportunity to look at everything again,â€ said Bryan.$6.4 billion unspentBut even if that revision proves overly optimistic, the Texas budget may still escape trouble, because lawmakers left more â€œThe question is,â€ said LeBas, â€œis the state going to stay in the black, and the answer there is yes.â€&#160;Aman Batheja contributed to this report.&#160;&#160;"
    prediction_result = hyperpartisan_detector.predict(input_text)
    print(f'Prediction Result: {prediction_result}')

    # Save the detector object instance to a .dill file
    hyperpartisan_detector.savedill()

if __name__ == "__main__":
    main()
